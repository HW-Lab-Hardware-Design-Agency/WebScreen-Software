<!DOCTYPE html>
<html>

<head>
    <title>WebSocket Test</title>
    <!-- Bootstrap CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <div class="container mt-5">
        <h1 class="mb-4">WebSocket to ESP32</h1>
        <div class="form-group">
            <label for="portSelect">Select Serial Port:</label>
            <select id="portSelect" class="form-control"></select>
        </div>
        <button onclick="connectSerialPort()" class="btn btn-primary mb-3">Connect</button>
        <p id="connectionStatus"></p>
        <div class="form-group">
            <textarea id="messageInput" class="form-control" placeholder="Enter message"></textarea>
        </div>
        <button onclick="sendMessage()" class="btn btn-success">Send</button>
        <p class="mt-3">Response from ESP32: <span id="serverResponse"></span></p>

        <!-- Wi-Fi Settings Section -->
        <h2 class="mt-5">Wi-Fi Settings</h2>
        <div class="form-group">
            <label for="wifiSSID">SSID:</label>
            <input type="text" id="wifiSSID" class="form-control" placeholder="Enter Wi-Fi SSID">
            <button onclick="fetchWifiNetworks()" class="btn btn-secondary mt-2">Scan Wi-Fi Networks</button>
            <div id="wifiNetworksList" class="mt-2"></div>
        </div>
        <div class="form-group">
            <label for="wifiPassword">Password:</label>
            <input type="password" id="wifiPassword" class="form-control" placeholder="Enter Wi-Fi Password">
        </div>
        <button onclick="saveWiFiSettings()" class="btn btn-primary">Save Wi-Fi Settings</button>
    </div>

    <!-- Bootstrap JS and dependencies -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <!-- Custom JS -->
    <script src="client.js"></script>
    <script src="settings.js"></script>
</body>

</html>
